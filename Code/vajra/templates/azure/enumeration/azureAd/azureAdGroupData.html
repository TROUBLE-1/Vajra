{% extends "azure/layout.html" %}
{% block body %}
<div class="main-panel">
    <div class="content-wrapper">
      <div class="row">
        <div class="col-sm-12">
          <div class="home-tab">
            <div class="d-sm-flex align-items-center justify-content-between border-bottom">
                <div id="home-tab" aria-selected="true">
                  <a href="{{ url_for('azureAdEnumerationUsers', victim=victim) }}">
                    <button type="button" class="btn btn-sm btn-success btn-icon-text">
                      <i class="ti-back-left btn-icon-prepend"></i>                                                    
                      Back
                    </button>
                  </a>
                  <b>Azure Ad Group Members</b>
                </div>
             </div>
        </div>
        <div class="col-12 grid-margin stretch-card pt-3"></div>
      </div>
      <div class="row">
          <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
              <div class="card-body">
                <div class="d-sm-flex align-items-center justify-content-between">
                    <h4><img src="{{ url_for('static',filename='images/azure/logo/azure-groups.svg') }}" width="40px"> Member of <b><u>{{groupName}}</u></b> Group</h4>
                    <div class="form-group">
                      <select class="form-control text-info bg-dark" onchange="window.open(this.options[this.selectedIndex].value,'_top')">
                          {% for data in azureAdGroupData %}
                          {% set selected = "" %}
                          {% if data.groupName ==  groupName %}
                            {% set selected = "selected" %}
                          {% endif %}
                          <option {{selected}}>{{data.groupName}}</option>
                          {% endfor %} 
                      </select>
                    </div>
              </div>
              
              <div class="table-responsive pt-1" style="max-height: 400px;">
                <table class="table table-bordered table-dark" >
                  <thead>
                    <tr>
                       <th>
                          Display Name
                       </th>
                       <th>
                          User Principle Name
                       </th>
                       <th>
                          Job Title
                       </th>
                       <th>
                          Mobile Phone
                       </th>
                       <th>
                          ID
                       </th>
                    </tr>
                 </thead>
                  <tbody>
                    {% for member in groupMembers %}
                    <tr>
                        <td>
                          {{ member.displayName }}
                        </td>
                        <td>
                          {{ member.userPrincipalName }}
                        </td>
                        <td>
                          {{ member.jobTitle }}
                        </td>
                        <td>
                          {{ member.mobilePhone }}
                        </td>
                        <td>
                          {{ member.id }}
                        </td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

